<%- include('header') %>

   <div class="streak">
      Score: <%= streak %>
   </div>
   <div class="quotebox">
    <%= data.Quote %>
   </div>
   <div class="d-grid gap-2 options">
     <div class="row">
       <div class="col">
         <button class="btn button-primary btn1" type="button"><%= data.Options.choice1 %></button>
       </div>
       <div class="col">
         <button class="btn button-primary btn2" type="button"><%= data.Options.choice2 %></button>
       </div>
     </div>
       <div class="row">
       <div class="col">
         <button class="btn button-primary btn3" type="button"><%= data.Options.choice3 %></button>
       </div>
       <div class="col">
         <button class="btn button-primary btn4" type="button"><%= data.Options.choice4 %></button>
       </div>
    </div>
    <form action="/start" method="post">
      <input type="hidden" name="s" value="">
      <button class="next" action="/start" type="submit"><span>Next </span></button>
    </form>
    <% var ans = data.Answer; %>;
    <% var points = streak; %>;
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
   <script>
      var getAns = "<%= ans %>";
      var score = "<%= points %>"
      var scorenum = Number(score);
      var correct = "btn" + getAns
      console.log(scorenum + 1);
      $(".btn").click(function(){
        if($(this).hasClass(correct)){
          $(this).removeClass("btn");
          $(this).addClass("btnCorrect");
          $(".btn").addClass("disabled");
          scorenum = scorenum + 1
          $("input").val(scorenum.toString());
          setTimeout(function(){
            $('.next').fadeIn(1000);
          },
          500);
        } else {
          $(this).removeClass("btn");
          $(this).addClass("btnWrong");
          $("." + correct).removeClass("btn").addClass("btnCorrect");
          $(".btn").addClass("disabled");
          $("input").val("0 ");
          setTimeout(function(){
            $('.next').fadeIn(1000);
          },
          500);
     
        }
      })
   </script>
</body>
</html>
